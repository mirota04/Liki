<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/png" href="/images/Picture2.png">
	<title>Liki3 - Vocabulary</title>

	<!-- External CSS -->
	<script src="https://cdn.tailwindcss.com/3.4.16"></script>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/remixicon@4.6.0/fonts/remixicon.css" rel="stylesheet">

	<!-- Tailwind Config -->
	<script>
		tailwind.config = {
			theme: {
				extend: {
					colors: {
						primary: '#5F8396',
						secondary: '#2F4A61',
						neutral: '#BCB9AC',
						warm: '#6F6558',
						dark: '#242527',
						'neutral-light': '#BCB9AC20'
					},
					borderRadius: {
						'none': '0px',
						'sm': '4px',
						DEFAULT: '8px',
						'md': '12px',
						'lg': '16px',
						'xl': '20px',
						'2xl': '24px',
						'3xl': '32px',
						'full': '9999px',
						'button': '8px'
					},
					fontFamily: {
						'inter': ['Inter', 'sans-serif']
					}
				}
			}
		}
	</script>

	<!-- Custom CSS -->
	<link rel="stylesheet" href="/styles/main.css">
	<link rel="stylesheet" href="/styles/vocabulary.css">
</head>
<body class="bg-gray-50 font-inter">
	<!-- Header -->
	<header class="bg-white/95 backdrop-blur-sm border-b border-neutral/20 sticky top-0 z-50">
		<div class="w-full px-4 sm:px-6 py-3 sm:py-4">
			<div class="flex items-center justify-between">
				<div class="flex items-center space-x-6 sm:space-x-12">
					<img onclick="navigateToPage('home')" src="/images/Picture2.png" alt="logo" style="height: 35px;">
					<nav class="hidden md:flex items-center space-x-8">
						<a href="#" onclick="navigateToPage('home')" class="text-dark hover:custom-text-primary transition-colors font-medium">Home</a>
						<a href="#" onclick="navigateToPage('grammar')" class="text-dark hover:custom-text-primary transition-colors font-medium">Grammar</a>
						<a href="#" onclick="navigateToPage('vocabulary')" class="custom-text-primary font-semibold transition-colors font-medium">Vocabulary</a>
						<a href="#" onclick="navigateToPage('profile')" class="text-dark hover:custom-text-primary transition-colors font-medium">Profile</a>
					</nav>
				</div>
				<div class="flex items-center space-x-4">
					<button class="w-10 h-10 flex items-center justify-center text-warm hover:custom-text-primary transition-colors">
						<i class="ri-notification-3-line ri-lg"></i>
					</button>
					<div class="relative">
						<button id="profileDropdownBtn" class="w-10 h-10 flex items-center justify-center custom-bg-primary custom-text-white rounded-full hover:bg-secondary transition-colors">
							<i class="ri-user-3-line"></i>
						</button>
						<div id="profileDropdown" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-100 py-2 hidden z-50">
							<a href="#" onclick="navigateToPage('profile')" class="flex items-center px-4 py-2 text-sm text-dark hover:bg-gray-50 transition-colors">
								<i class="ri-user-3-line mr-3 text-primary"></i>
								Profile
							</a>
							<a href="#" class="flex items-center px-4 py-2 text-sm text-dark hover:bg-gray-50 transition-colors">
								<i class="ri-settings-3-line mr-3 text-warm"></i>
								Settings
							</a>
							<div class="border-t border-gray-100 my-1"></div>
							<div class="flex items-center justify-between px-4 py-2">
								<div class="flex items-center">
									<i class="ri-moon-line mr-3 text-warm"></i>
									<span class="text-sm text-dark">Dark Mode</span>
								</div>
								<button id="darkModeToggle" class="relative inline-flex h-6 w-11 items-center rounded-full bg-gray-200 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/20 focus:ring-offset-2">
									<span id="darkModeThumb" class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform translate-x-1"></span>
								</button>
							</div>
							<div class="border-t border-gray-100 my-1"></div>
							<a href="#" onclick="logout()" class="flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors">
								<i class="ri-logout-box-r-line mr-3"></i>
								Logout
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</header>

	<!-- Main Content -->
	<main class="min-h-screen py-6 sm:py-8 pb-24 md:pb-8">
		<div class="max-w-7xl mx-auto px-4 sm:px-6">
			<!-- Page Header -->
			<div class="flex items-center justify-between mb-8">
				<div class="flex items-center space-x-4">
					<a href="#" onclick="navigateToPage('home')" class="w-10 h-10 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-full transition-colors">
						<i class="ri-arrow-left-line text-dark"></i>
					</a>
					<h1 class="text-3xl font-bold text-dark">Vocabulary</h1>
				</div>
			</div>

			<!-- Search -->
			<div class="search-container rounded-2xl p-2 mb-6">
				<div class="flex items-center gap-2">
					<div class="w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center">
						<i class="ri-search-line text-gray-400 ri-lg"></i>
					</div>
					<input id="searchInput" type="text" placeholder="Enter Korean word..." class="flex-1 px-3 sm:px-4 py-2.5 sm:py-3 bg-transparent border-none outline-none text-base sm:text-lg placeholder-gray-400">
					<button id="searchBtn" class="btn-primary custom-text-white px-4 sm:px-6 py-2.5 sm:py-3 !rounded-button font-medium whitespace-nowrap text-sm sm:text-base">
						<span class="search-text">Search</span>
						<i class="ri-loader-4-line loading-spinner hidden"></i>
					</button>
				</div>
			</div>

			<!-- Search Result -->
			<div id="searchResult" class="hidden search-result p-4 sm:p-8 mb-6 sm:mb-8">
				<div class="flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-4 sm:mb-6">
					<div class="flex-1">
						<div class="korean-text mb-1 sm:mb-2">안녕하세요</div>
						<div class="meaning-text text-base sm:text-lg mb-4 sm:mb-6">Hello, good day (formal greeting)</div>
					</div>
					<button id="addToDictionary" class="btn-primary custom-text-white w-full md:w-auto px-4 sm:px-6 py-2.5 sm:py-3 !rounded-button font-medium whitespace-nowrap text-sm sm:text-base">
						<i class="ri-bookmark-line mr-2"></i>
						Add to Dictionary
					</button>
				</div>
				<div class="example-text p-4 sm:p-6 rounded-lg">
					<div class="text-xs sm:text-sm font-medium text-gray-600 mb-2">Definition:</div>
					<div class="korean-text text-base sm:text-lg mb-2">안녕하세요, 만나서 반갑습니다.</div>
					<div class="meaning-text text-sm sm:text-base">Hello, nice to meet you.</div>
				</div>
			</div>

			<!-- Empty State -->
			<div id="emptySearchState" class="empty-state rounded-2xl p-12 text-center">
				<div class="w-16 h-16 flex items-center justify-center bg-primary/10 rounded-full mx-auto mb-4">
					<i class="ri-search-line custom-text-primary ri-2x"></i>
				</div>
				<h3 class="text-lg font-semibold text-dark mb-2">Start Your Vocabulary Journey</h3>
				<p class="text-warm">Search for Korean words to discover their meanings and add them to your personal dictionary</p>
			</div>
		</div>

		<!-- Dictionary Preview -->
		<div id="my-dictionary" class="dictionary-preview rounded-2xl p-4 sm:p-6 max-w-7xl mx-auto px-4 sm:px-6 mt-6 sm:mt-8">
			<div class="flex items-center justify-between mb-6">
				<h3 class="text-xl font-semibold text-dark">My Dictionary</h3>
				<button id="viewAllBtn" class="custom-text-primary hover:text-secondary font-medium transition-colors">
					View All <i class="ri-arrow-right-line ml-1"></i>
				</button>
			</div>

			<div id="dictionaryList" class="space-y-4">
				<% if (randomWords && randomWords.length > 0) { %>
					<% randomWords.forEach(function(word) { %>
					<div class="dictionary-card p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3">
						<div class="flex-1">
							<div class="korean-text text-lg mb-1"><%= word.word %></div>
							<div class="meaning-text text-sm"><%= word.meaning %><% if (word.meaning_geo) { %> (<%= word.meaning_geo %>)<% } %></div>
						</div>
						<button class="remove-btn w-8 h-8 flex items-center justify-center hover:bg-red-50 rounded-full transition-colors">
							<i class="ri-close-line text-red-400 hover:text-red-600"></i>
						</button>
					</div>
					<% }); %>
				<% } else { %>
					<div id="emptyDictionary" class="text-center py-12">
						<div class="w-16 h-16 flex items-center justify-center bg-gray-100 rounded-full mx-auto mb-4">
							<i class="ri-book-open-line text-gray-400 ri-2x"></i>
						</div>
						<h4 class="text-lg font-medium text-dark mb-2">Your Dictionary is Empty</h4>
						<p class="text-warm">Search for Korean words and add them to build your personal vocabulary collection</p>
					</div>
				<% } %>
			</div>
		</div>

		<!-- Flashcards Section -->
		<div id="flashcards-section" class="flashcards-section rounded-2xl p-4 sm:p-6 max-w-7xl mx-auto px-4 sm:px-6 mt-6 sm:mt-8">
			<div class="flex items-center justify-between mb-6">
				<h3 class="text-xl font-semibold text-dark">Today's Flashcards</h3>
				<div class="flex items-center gap-4">
					<!-- Direction Switch -->
					<div class="flex items-center bg-gray-100 rounded-lg p-1">
						<button id="directionEnKo" class="direction-btn active px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 bg-white text-primary shadow-sm">
							English → Korean
						</button>
						<button id="directionKoEn" class="direction-btn px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 text-gray-600 hover:text-gray-800">
							Korean → English
						</button>
					</div>
					<button id="startFlashcards" class="btn-primary custom-text-white px-4 sm:px-6 py-2.5 sm:py-3 !rounded-button font-medium whitespace-nowrap text-sm sm:text-base">
						<i class="ri-play-line mr-2"></i>
						<span class="hidden sm:inline">Start Flashcards</span>
					</button>
				</div>
			</div>

			<!-- Flashcard Container -->
			<div id="flashcard-container" class="hidden">
				<!-- Progress Info -->
				<div class="text-center mb-6">
					<div class="text-sm text-warm mb-2">
						<span id="current-card">1</span> of <span id="total-cards">0</span> cards
					</div>
					<div class="w-full bg-gray-200 rounded-full h-2">
						<div id="progress-bar" class="bg-primary h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
					</div>
				</div>

				<!-- Card -->
				<div class="flashcard-wrapper flex justify-center mb-8">
					<div id="flashcard" class="flashcard">
						<div class="flashcard-inner">
							<div class="flashcard-front">
								<div id="card-front-text" class="card-text"></div>
								<div class="card-hint">Tap to reveal answer</div>
							</div>
							<div class="flashcard-back">
								<div id="card-back-text" class="card-text"></div>
							</div>
						</div>
					</div>
				</div>

				<!-- Action Buttons -->
				<div class="flex justify-center gap-4">
					<button id="btn-wrong" class="action-btn wrong-btn">
						<i class="ri-close-line mr-2"></i>
						Wrong
					</button>
					<button id="btn-correct" class="action-btn correct-btn">
						<i class="ri-check-line mr-2"></i>
						Correct
					</button>
				</div>
			</div>

			<!-- Empty State -->
			<div id="flashcards-empty" class="text-center py-12">
				<div class="w-16 h-16 flex items-center justify-center bg-gray-100 rounded-full mx-auto mb-4">
					<i class="ri-flashlight-line text-gray-400 ri-2x"></i>
				</div>
				<h4 class="text-lg font-medium text-dark mb-2">No Words Added Today</h4>
				<p class="text-warm">Add some Korean words to your dictionary today to start practicing with flashcards</p>
			</div>

			<!-- Completion State -->
			<div id="flashcards-complete" class="hidden text-center py-12">
				<div class="w-16 h-16 flex items-center justify-center bg-green-100 rounded-full mx-auto mb-4">
					<i class="ri-check-line text-green-500 ri-2x"></i>
				</div>
				<h4 class="text-lg font-medium text-dark mb-2">Great Job!</h4>
				<p class="text-warm mb-4">You've completed all today's flashcards correctly</p>
				<button id="restart-flashcards" class="btn-primary custom-text-white px-6 py-3 !rounded-button font-medium">
					<i class="ri-refresh-line mr-2"></i>
					Practice Again
				</button>
			</div>
		</div>
	</main>

	<!-- Floating Add Button -->
	<button class="floating-btn floating-btn--above-nav w-14 h-14 rounded-full custom-text-white shadow-lg">
		<i class="ri-add-line ri-xl"></i>
	</button>

	<!-- Add Word Modal -->
	<div id="addWordModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden backdrop-blur-sm">
		<div class="bg-white rounded-2xl w-full max-w-lg mx-4 p-6 sm:p-8 max-h-[90vh] overflow-y-auto">
			<div class="flex items-center justify-between mb-6">
				<h2 class="text-2xl font-bold text-dark">Add New Word</h2>
				<button id="closeModal" class="w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-full transition-colors">
					<i class="ri-close-line text-gray-500"></i>
				</button>
			</div>
			<form id="addWordForm" class="space-y-6">
				<div>
					<label class="block text-sm font-medium text-dark mb-2">Korean Word</label>
					<input type="text" id="koreanWord" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary" placeholder="한국어">
				</div>
				
				<div>
					<label class="block text-sm font-medium text-dark mb-2">English Meaning</label>
					<input type="text" id="meaning" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary" placeholder="Korean language">
				</div>
				
				<div>
					<label class="block text-sm font-medium text-dark mb-2">Georgian Translation (optional)</label>
					<input type="text" id="georgianTranslation" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary" placeholder="ქართული (არასავალდებულო)">
				</div>
				<div class="flex justify-end space-x-4 pt-6">
					<button type="button" id="cancelBtn" class="px-6 py-3 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors !rounded-button whitespace-nowrap">Cancel</button>
					<button type="submit" class="btn-primary custom-text-white px-6 py-3 !rounded-button font-medium whitespace-nowrap">Add Word</button>
				</div>
			</form>
		</div>
	</div>

	<!-- View All Dictionary Modal -->
	<div id="viewAllModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden backdrop-blur-sm">
		<div class="bg-white rounded-2xl w-full max-w-4xl mx-4 p-4 sm:p-6 md:p-8 h-[90vh] flex flex-col">
			<div class="flex items-center justify-between mb-4 sm:mb-6 flex-shrink-0">
				<h2 class="text-xl sm:text-2xl font-bold text-dark">My Dictionary</h2>
				<button id="closeViewAllModal" class="w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-full transition-colors">
					<i class="ri-close-line text-gray-500"></i>
				</button>
			</div>
			
			<!-- Search Bar -->
			<div class="mb-4 sm:mb-6 flex-shrink-0">
				<div class="relative">
					<input type="text" id="dictionarySearchInput" placeholder="Search in Korean or English..." class="w-full px-3 sm:px-4 py-2 sm:py-3 pl-10 sm:pl-12 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-sm sm:text-base">
					<i class="ri-search-line absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
				</div>
			</div>
			
			<!-- Dictionary Words List -->
			<div id="dictionaryWordsList" class="flex-1 overflow-y-auto min-h-0">
				<!-- Words will be populated here -->
			</div>
		</div>
	</div>

	<!-- Scripts -->
	<!-- Loader SVG filter definition for CSS-based mirage loader -->
	<svg width="0" height="0" class="svg" style="position:absolute">
		<defs>
			<filter id="uib-jelly-ooze">
				<feGaussianBlur in="SourceGraphic" stdDeviation="3" result="blur" />
				<feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="ooze" />
				<feBlend in="SourceGraphic" in2="ooze" />
			</filter>
		</defs>
	</svg>
	<script src="/scripts/main.js"></script>
	<script src="/scripts/vocabulary.js"></script>

	<!-- Mobile bottom nav -->
	<nav class="fixed bottom-0 inset-x-0 bg-white border-t border-neutral/20 md:hidden z-50">
		<div class="flex justify-around py-2">
			<button onclick="navigateToPage('home')" class="flex flex-col items-center text-dark">
				<i class="ri-home-4-line"></i>
				<span class="text-xs">Home</span>
			</button>
			<button onclick="navigateToPage('grammar')" class="flex flex-col items-center text-dark">
				<i class="ri-chat-3-line"></i>
				<span class="text-xs">Grammar</span>
			</button>
			<button onclick="navigateToPage('vocabulary')" class="flex flex-col items-center text-primary">
				<i class="ri-book-2-line"></i>
				<span class="text-xs">Vocab</span>
			</button>
			<button onclick="navigateToPage('profile')" class="flex flex-col items-center text-dark">
				<i class="ri-user-3-line"></i>
				<span class="text-xs">Profile</span>
				</button>
		</div>
	</nav>
</body>
</html>

